import{R as j,j as e,r as i,a as p,b as x,f,c as h,w as N}from"./index-DTAF6WUO.js";import{L as g,R as b}from"./Leftbar-B0EjVjn2.js";import{P as r}from"./index-BZlT-Aen.js";const v=j.memo(({category:s,onClick:t})=>e.jsxs("button",{className:"btn btn-category mb-3 text-center d-flex flex-column align-items-center",onClick:()=>t(s.courseID),children:[e.jsx("img",{src:`src/${s.iconURL}`,alt:s.name,className:"category-image mb-2",style:{width:"50px",height:"50px"}}),e.jsx("span",{children:s.name})," "]}));v.propTypes={category:r.shape({courseID:r.number.isRequired,iconURL:r.string.isRequired,name:r.string.isRequired}).isRequired,onClick:r.func.isRequired};const C=({flashcards:s})=>{const[t,l]=i.useState(null),d=a=>{l(a)},c=()=>{l(null)},u=()=>{l(a=>(a+1)%s.length)},o=()=>{l(a=>(a-1+s.length)%s.length)};return e.jsxs("div",{className:"duo-container",children:[s.length>0?e.jsx("div",{className:"duo-flashcard-list",children:s.map((a,m)=>e.jsx("div",{className:"duo-flashcard",onClick:()=>d(m),children:e.jsx("div",{className:"duo-card-face duo-front",children:e.jsx("p",{children:a.front})})},a.flashCardID))}):e.jsx("p",{className:"duo-no-cards",children:"Hiç favori kart bulunamadı."}),t!==null&&e.jsx("div",{className:"duo-modal-overlay",onClick:a=>{a.target.classList.contains("duo-modal-overlay")&&c()},children:e.jsxs("div",{className:"duo-modal-content",children:[e.jsx("button",{className:"duo-modal-close",onClick:c,children:"×"}),e.jsx("h4",{children:s[t].front}),e.jsx("p",{children:s[t].back}),e.jsxs("div",{className:"duo-modal-nav",children:[e.jsx("button",{className:"duo-nav-button",onClick:o,children:"← Geri"}),e.jsx("button",{className:"duo-nav-button",onClick:u,children:"İleri →"})]})]})})]})},y=j.memo(()=>{const s=p(),{courses:t,fetchStatus:l}=x(n=>n.courses),{favoriteFlashCards:d,favoriteStatus:c}=x(n=>n.flashCard),[u,o]=i.useState(null);i.useEffect(()=>{s(f())},[s]);const a=i.useCallback(()=>{s(h()),o(null)},[s]),m=i.useCallback(n=>{s(h()),o(n),s(N({courseId:n}))},[s]);return l==="loading"?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):l==="failed"?e.jsx("div",{className:"text-center mt-5 text-danger",children:"Dersler yüklenemedi. Lütfen daha sonra tekrar deneyin."}):e.jsx("div",{className:"col-12 col-md-6 position-relative",children:u?e.jsxs("div",{children:[e.jsx("button",{className:"back-button",onClick:a}),c==="succeeded"&&e.jsx(C,{flashcards:d}),c==="loading"&&e.jsx("div",{className:"text-center mt-4",children:e.jsx("div",{className:"spinner-border text-secondary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Yükleniyor..."})})})]}):e.jsxs("div",{className:"category-selection",children:[e.jsx("div",{className:"text-center lesson-title",children:"Hangi Dersin Ezber Kartını Görmek İstersin"}),e.jsx("div",{className:"category-list",children:t.map(n=>e.jsx(v,{category:n,onClick:m},n.courseID))})]})})}),L=()=>e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row ",children:[e.jsx(g,{}),e.jsx(y,{}),e.jsx(b,{})]})});export{L as default};
