import{j as t,b as l,a as _,r as h,Q as u}from"./index-CBFzb6A4.js";import{A as v}from"./AdminLayout-Y3raOaej.js";import"./index-CiReyqcp.js";const f="_dashboardContainer_idifm_1",x="_header_idifm_15",y="_statsContainer_idifm_49",j="_statCard_idifm_63",k="_statIcon_idifm_99",C="_statContent_idifm_123",p="_statValue_idifm_135",N="_statChange_idifm_147",g="_contentRow_idifm_157",b="_actionsContainer_idifm_169",I="_actionsGrid_idifm_183",S="_actionCard_idifm_197",U="_actionIcon_idifm_237",A="_actionLabel_idifm_255",L="_activityContainer_idifm_267",w="_chartContainer_idifm_289",B="_chart_idifm_289",E="_chartBarContainer_idifm_323",F="_chartBar_idifm_323",T="_chartValue_idifm_355",V="_chartLabel_idifm_375",K="_taskManager_idifm_391",D="_taskList_idifm_407",H="_taskItem_idifm_415",R="_taskCheckbox_idifm_447",$="_completed_idifm_473",G="_taskTitle_idifm_485",M="_taskForm_idifm_505",Y="_taskInput_idifm_517",P="_taskAddButton_idifm_533",Q="_systemStatus_idifm_565",q="_metricItem_idifm_581",z="_metricHeader_idifm_589",O="_metricValue_idifm_603",J="_metricBar_idifm_611",W="_metricFill_idifm_625",X="_metricStatus_idifm_637",Z="_statsAndSystem_idifm_651",tt="_activityList_idifm_707",at="_activityItem_idifm_753",st="_activityIcon_idifm_785",it="_activityTime_idifm_823",et="_activityEmpty_idifm_853",a={dashboardContainer:f,header:x,statsContainer:y,statCard:j,statIcon:k,statContent:C,statValue:p,statChange:N,contentRow:g,actionsContainer:b,actionsGrid:I,actionCard:S,actionIcon:U,actionLabel:A,activityContainer:L,chartContainer:w,chart:B,chartBarContainer:E,chartBar:F,chartValue:T,chartLabel:V,taskManager:K,taskList:D,taskItem:H,taskCheckbox:R,completed:$,taskTitle:G,taskForm:M,taskInput:Y,taskAddButton:P,systemStatus:Q,metricItem:q,metricHeader:z,metricValue:O,metricBar:J,metricFill:W,metricStatus:X,statsAndSystem:Z,activityList:tt,activityItem:at,activityIcon:st,activityTime:it,activityEmpty:et},nt=({title:n,value:c,change:e,icon:s})=>t.jsxs("div",{className:a.statCard,children:[t.jsx("div",{className:a.statIcon,children:s}),t.jsxs("div",{className:a.statContent,children:[t.jsx("h3",{children:n}),t.jsx("div",{className:a.statValue,children:c}),t.jsx("div",{className:a.statChange,children:e})]})]}),ct=({label:n,icon:c,path:e})=>t.jsxs("div",{className:a.actionCard,children:[t.jsx("div",{className:a.actionIcon,children:c}),t.jsx("div",{className:a.actionLabel,children:n})]}),rt=()=>{const c=l(e=>{var s;return((s=e.dashboard.data)==null?void 0:s.lastFiveUsers)||[]}).map(e=>({user:`${e.firstName} ${e.surName}`,action:"sisteme kayıt oldu",time:"Yeni"}));return t.jsxs("div",{children:[t.jsx("h2",{children:"Son Kullanıcılar"}),t.jsx("ul",{className:a.activityList,children:c.map((e,s)=>t.jsxs("li",{className:a.activityItem,children:[t.jsx("div",{className:a.activityIcon,children:"●"}),t.jsxs("div",{children:[t.jsx("strong",{children:e.user})," ",e.action,t.jsx("div",{className:a.activityTime,children:e.time})]})]},s))})]})},ot=()=>{const c=l(s=>{var i;return((i=s.dashboard.data)==null?void 0:i.weeklyActiveUsers)||[]}).map(s=>({day:s.dayName,users:s.count})),e=Math.max(...c.map(s=>s.users),1)||1;return t.jsxs("div",{className:a.chartContainer,children:[t.jsx("h2",{children:"Kullanıcı Etkileşimi"}),t.jsx("div",{className:a.chart,children:c.map((s,i)=>t.jsxs("div",{className:a.chartBarContainer,children:[t.jsx("div",{className:a.chartBar,style:{height:`${s.users/e*100}%`},children:t.jsx("span",{className:a.chartValue,children:s.users})}),t.jsx("div",{className:a.chartLabel,children:s.day})]},i))})]})},lt=()=>{const n=l(i=>{var o;return((o=i.dashboard.data)==null?void 0:o.systemInfo)||{}}),c=[{name:"CPU Kullanımı",value:n.cpuUsage||0,status:e(n.cpuUsage)},{name:"Bellek",value:n.memoryUsage||0,status:e(n.memoryUsage)},{name:"Depolama",value:n.diskUsage||0,status:e(n.diskUsage)},{name:"Ağ Trafiği",value:n.networkUsage||0,status:e(n.networkUsage)}];function e(i){return i?i>80?"critical":i>60?"warning":"normal":"normal"}const s=i=>{switch(i){case"normal":return"#10b981";case"warning":return"#f59e0b";case"critical":return"#ef4444";default:return"#64748b"}};return t.jsxs("div",{className:a.systemStatus,children:[t.jsx("h2",{children:"Sistem Durumu"}),t.jsx("div",{className:a.metricsContainer,children:c.map((i,o)=>t.jsxs("div",{className:a.metricItem,children:[t.jsxs("div",{className:a.metricHeader,children:[t.jsx("span",{children:i.name}),t.jsxs("span",{className:a.metricValue,children:[i.value.toFixed(1),"%"]})]}),t.jsx("div",{className:a.metricBar,children:t.jsx("div",{className:a.metricFill,style:{width:`${i.value}%`,backgroundColor:s(i.status)}})}),t.jsxs("div",{className:a.metricStatus,style:{color:s(i.status)},children:[i.status==="normal"&&"Normal",i.status==="warning"&&"Uyarı",i.status==="critical"&&"Kritik"]})]},o))})]})},ht=()=>{const n=_(),c=l(r=>r.dashboard.status),e=l(r=>r.dashboard.error),s=l(r=>r.dashboard.data);if(h.useEffect(()=>{n(u())},[n]),c==="loading"||c==="idle")return t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading..."})})});if(c==="failed")return t.jsxs("div",{children:["Error: ",e]});if(!s)return t.jsx("div",{children:"No data available"});const i=[{title:"Toplam Kullanıcı",value:s.totalUsers,change:"+",icon:"👥"},{title:"Günlük Aktif Kullanıcı",value:s.dailyActiveUsers,change:"+",icon:"🚀"},{title:"Ort. Test Tamamlama",value:s.averageTestCompletion.toFixed(1),change:"+",icon:"✅"},{title:"Elmas Harcaması",value:`₿ ${s.totalDiamonds.toLocaleString()}`,change:"+",icon:"💎"}],o=[{label:"Soru Ekle",icon:"❓",path:"/questions/add"},{label:"Kullanıcı Engelle",icon:"🚫",path:"/users/block"},{label:"Yeni Görev Ekle",icon:"🎯",path:"/missions/add"},{label:"Mağaza Yönetimi",icon:"🛒",path:"/shop"}],m=s.lastFiveUsers.map(r=>({user:`${r.firstName} ${r.surName}`,action:"Sisteme kayıt oldu",time:"Yeni"}));return t.jsx(v,{children:t.jsxs("div",{className:a.dashboardContainer,children:[t.jsxs("div",{className:a.header,children:[t.jsx("h1",{children:"Eğitim Platformu Yönetim Paneli"}),t.jsxs("p",{children:["Son 24 saatte ",s.dailyActiveUsers," aktif kullanıcı | ",s.averageTestCompletion," ortalama test tamamlama"]})]}),t.jsx("div",{className:a.statsContainer,children:i.map((r,d)=>t.jsx(nt,{...r},d))}),t.jsxs("div",{className:a.chartRow,children:[t.jsx(ot,{title:"Haftalık Kullanıcı Aktivitesi",data:s.weeklyActiveUsers}),t.jsx(lt,{serverStatus:"normal",dbStatus:"normal",activeUsers:s.dailyActiveUsers,systemInfo:s.systemInfo})]}),t.jsxs("div",{className:a.contentRow,children:[t.jsx("div",{className:a.leftColumn,children:t.jsxs("div",{className:a.actionsContainer,children:[t.jsx("h2",{children:"Yönetim Araçları"}),t.jsx("div",{className:a.actionsGrid,children:o.map((r,d)=>t.jsx(ct,{...r},d))})]})}),t.jsx("div",{className:a.activityContainer,children:t.jsx(rt,{title:"Son Aktivite Kayıtları",activities:m})})]})]})})};export{ht as default};
