import{j as s,M as m,r as t,a as T,b as g,E as A,v as B,N as R,u as $,p as G}from"./index-BKybN0M0.js";const F="/assets/forever-3SMudxod.png",H="/assets/heart-B9Ggcmvn.png",V="/assets/goal-DDi6LMSl.png",O="/assets/target-8i4d8Khz.png",Z="/assets/diamond-C_Ck2PAL.png",P="/assets/menutop-Nm-qzleF.png",U="/assets/chest-BbavGSjT.png",K="/assets/chest2-BSMOvXIe.png",Y="/assets/achievement-B7JNhzUQ.png",J="/assets/achievement2-BLnU3hy6.png",X="/assets/achievement3-bwcHVwCG.png",v=[Y,J,X],q=({missions:o})=>s.jsxs("div",{className:"daily-missions",children:[s.jsxs("div",{className:"missions-header",children:[s.jsx("h3",{children:"Günlük Görevler"}),s.jsx(m,{to:"/achievements#",className:"view-all",children:"Tamamını Gör"})]}),s.jsx("div",{className:"missions-list",children:o.map((c,i)=>{const r=Math.min(100,Math.round(c.currentValue/c.targetValue*100)),l=v[i%v.length],d=c.isCompleted?K:U;return s.jsxs("div",{className:"mission-item",children:[s.jsx("img",{className:"mission-icon",src:l,alt:"achievement"}),s.jsxs("div",{className:"mission-details",children:[s.jsx("p",{className:"mission-title",children:c.title}),s.jsx("div",{className:"mission-progress",children:s.jsx("div",{className:`progress-bar ${c.isCompleted?"completed":""}`,style:{width:`${r}%`},children:s.jsxs("span",{children:[r,"%"]})})})]}),s.jsx("img",{className:"mission-chest",src:d,alt:"chest"})]},c.dailyMissionId)})})]}),es=()=>{const[o,c]=t.useState(!1);t.useState(null);const[i,r]=t.useState(null),[l,d]=t.useState(!1),e=T();g(a=>a.layout.healthStatus);const n=g(a=>a.layout.healthResult),{missions:h,missionsStatus:x,error:W}=g(a=>a.dailyMission),y=()=>{e(B()),c(!0)};t.useEffect(()=>{e(A())},[e]);const D=t.useRef(null),z=t.useRef(null),E=a=>{const p=Math.floor(a/60),j=Math.floor(a%60);return`${p.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`},N=()=>c(!1),L=()=>{d(!l)};return t.useEffect(()=>{if(!o||!(n!=null&&n.lastLifeAddedTime))return;const a=()=>{const j=new Date(n.lastLifeAddedTime+"Z"),I=(new Date().getTime()-j.getTime())/1e3,u=20*60,w=u-I%u;r(w)};a();const p=setInterval(a,1e3);return()=>clearInterval(p)},[o,n]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mobile-menu-toggle",onClick:L,children:s.jsx("div",{className:`circle-icon-button ${l?"open":""}`,children:s.jsx("img",{src:P,alt:"Menü",className:"target-menu-icon"})})}),o&&s.jsx("div",{className:"modal-overlay",onClick:N,children:s.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:N,children:"×"}),s.jsx("h4",{className:"modal-title",children:"Can Durumu"}),n?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"modal-text",children:["Can Sayısı: ",s.jsx("strong",{children:n.lives>100?s.jsx("img",{src:F,alt:"Sonsuz",className:"infinite-icon"}):n.lives})]}),i!==null&&n.lives<10&&s.jsxs("p",{className:"modal-text",children:["Bir sonraki can eklemesine kalan süre:",s.jsxs("strong",{children:[" ",E(i)]})]})]}):s.jsx("p",{className:"modal-text",children:"Yükleniyor..."})]})}),s.jsx("div",{ref:D,className:`right-sidebar ${l?"mobile-open":""}`,style:{width:"29%"},children:s.jsxs("div",{ref:z,className:"sidebar-content",children:[s.jsx("div",{className:"score-container",children:s.jsxs("ul",{className:"score-items",children:[s.jsx(m,{to:"/analysis",className:"score-link",children:s.jsx("li",{className:"score-item",children:s.jsxs("div",{className:"score-icon-container",children:[s.jsx("img",{src:O,alt:"Analiz",className:"score-icon"}),s.jsx("p",{className:"score-label",children:"Analiz"})]})})}),s.jsx(m,{to:"/diamond",className:"score-link",children:s.jsx("li",{className:"score-item",children:s.jsxs("div",{className:"score-icon-container",children:[s.jsx("img",{src:Z,alt:"Elmas",className:"score-icon"}),s.jsx("p",{className:"score-label",children:"Elmas"})]})})}),s.jsx(m,{to:"/achievements",className:"score-link",children:s.jsx("li",{className:"score-item",children:s.jsxs("div",{className:"score-icon-container",children:[s.jsx("img",{src:V,alt:"Başarı",className:"score-icon"}),s.jsx("p",{className:"score-label",children:"Başarı"})]})})}),s.jsx("li",{className:"score-item",onClick:y,children:s.jsxs("div",{className:"score-icon-container",children:[s.jsx("img",{src:H,alt:"Can",className:"score-icon"}),s.jsx("p",{className:"score-label",children:"Can"})]})})]})}),s.jsxs("div",{className:"promo-card",children:[s.jsx("div",{className:"promo-header"}),s.jsx("p",{className:"promo-title",children:"Yapay Zeka Eklentisi"}),s.jsxs("div",{className:"promo-content",children:[s.jsx("p",{className:"promo-description",children:"Çözdüğün testlerin analizine istediğinde ulaş."}),s.jsx("img",{className:"promo-image",src:"https://cdn-icons-png.flaticon.com/512/15695/15695095.png",alt:"AI Eklentisi"})]}),s.jsx(m,{to:"/shop",className:"promo-link",children:s.jsx("button",{className:"promo-button",children:"2 HAFTA ÜCRETSİZ DENE"})})]}),s.jsxs("div",{className:"promo-card promo-card-green",children:[s.jsx("div",{className:"promo-header"}),s.jsx("p",{className:"promo-title",children:"Sonuz Can Hakkı"}),s.jsxs("div",{className:"promo-content",children:[s.jsx("p",{className:"promo-description",children:"Hiçbir kısıtlama olmadan sınırsız ders çalış"}),s.jsx("img",{className:"promo-image",src:"https://cdn-icons-png.flaticon.com/512/10473/10473357.png",alt:"Sınırsız Can"})]}),s.jsx(m,{to:"/shop",className:"promo-link",children:s.jsx("button",{className:"promo-button promo-button-green",children:"2 HAFTA ÜCRETSİZ DENE"})})]}),h&&s.jsx(q,{missions:h})]})})]})},f="/assets/housekeeper-gy0yceVX.png",b="/assets/store-DVCxjIUY.png",k="/assets/speedometer-Czx1wVsD.png",M="/assets/house-BZD3BelN.png",S="/assets/card-game-DfhEGLC8.png",C="/assets/logout-BMl7tJEk.png",Q="/assets/menubot-f-3gwogc.png",as=()=>{const o=R(),c=$(),[i,r]=t.useState(!1),l=()=>{G(),c("/login")},d=()=>{r(!i)},e=({to:n,icon:h,text:x})=>s.jsx("li",{children:s.jsxs(m,{to:n,className:`nav-link ${o.pathname===n?"active":""}`,onClick:()=>r(!1),children:[s.jsx("img",{src:h,alt:x,className:"icon-size"}),s.jsx("span",{children:x})]})});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mobile-menu-button d-md-none",onClick:d,children:s.jsx("img",{src:Q,alt:"Menu",className:"menu-icon"})}),s.jsxs("div",{className:`sidebar-container  d-none d-md-block ${i?"mobile-open":""}`,style:{width:"19%"},children:["                ",s.jsx("a",{href:"/",className:"side-logo",children:s.jsx("span",{className:"logo-font",children:"Dobi"})}),s.jsxs("ul",{className:"nav-menu",children:[s.jsx(e,{to:"/",icon:M,text:"Anasayfa"}),s.jsx(e,{to:"/card",icon:S,text:"Kartlarım"}),s.jsx(e,{to:"/exam",icon:k,text:"Sınavlar"}),s.jsx(e,{to:"/shop",icon:b,text:"Mağaza"}),s.jsx(e,{to:"/profile",icon:f,text:"Profil"}),s.jsx("li",{children:s.jsxs("div",{className:"nav-link logout-link",onClick:l,children:[s.jsx("img",{src:C,alt:"Çıkış",className:"icon-size"}),s.jsx("span",{children:"Çıkış"})]})})]})]}),s.jsxs("div",{className:`sidebar-container d-md-none mobile-sidebar ${i?"mobile-open":""}`,children:[s.jsx("a",{href:"/",className:"side-logo",children:s.jsx("span",{className:"logo-font",children:"Dobi"})}),s.jsxs("ul",{className:"nav-menu",children:[s.jsx(e,{to:"/",icon:M,text:"Anasayfa"}),s.jsx(e,{to:"/card",icon:S,text:"Kartlarım"}),s.jsx(e,{to:"/exam",icon:k,text:"Sınavlar"}),s.jsx(e,{to:"/shop",icon:b,text:"Mağaza"}),s.jsx(e,{to:"/profile",icon:f,text:"Profil"}),s.jsx("li",{children:s.jsxs("div",{className:"nav-link logout-link",onClick:l,children:[s.jsx("img",{src:C,alt:"Çıkış",className:"icon-size"}),s.jsx("span",{children:"Çıkış"})]})})]})]})]})};export{q as D,as as L,es as R,F as f};
